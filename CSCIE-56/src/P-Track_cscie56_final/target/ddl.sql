
    alter table rack 
        drop constraint FK_k5jww9dbityqycnhahlgbv8tn if exists;

    alter table shelf 
        drop constraint FK_jsjixt9o47t8mrt1p2bvmjhk4 if exists;

    drop table freezer if exists;

    drop table plate if exists;

    drop table rack if exists;

    drop table shelf if exists;

    create table freezer (
        id bigint generated by default as identity,
        version bigint not null,
        name varchar(20) not null,
        num_racks_per_shelf integer not null,
        num_shelves integer not null,
        primary key (id)
    );

    create table plate (
        id bigint generated by default as identity,
        version bigint not null,
        name varchar(30),
        primary key (id)
    );

    create table rack (
        id bigint generated by default as identity,
        version bigint not null,
        name varchar(255) not null,
        shelf_id bigint not null,
        primary key (id)
    );

    create table shelf (
        id bigint generated by default as identity,
        version bigint not null,
        freezer_id bigint not null,
        name varchar(255) not null,
        racks_per_shelf integer not null,
        primary key (id)
    );

    alter table rack 
        add constraint FK_k5jww9dbityqycnhahlgbv8tn 
        foreign key (shelf_id) 
        references shelf;

    alter table shelf 
        add constraint FK_jsjixt9o47t8mrt1p2bvmjhk4 
        foreign key (freezer_id) 
        references freezer;
